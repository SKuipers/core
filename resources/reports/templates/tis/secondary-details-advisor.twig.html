{#<!--
name: Secondary Advisor Comments
category: Secondary
types: Body
sources:
    report: Report
    reportingCycle: ReportingCycle
    attendance: AttendanceByCycle
    yearGroup: YearGroupCriteria
    rollGroup: RollGroupCriteria
    tutors: Tutors
-->#}
{{- stylesheet ? include(stylesheet) -}}
<style>
    .header {
        font-size: 9pt ;
        font-weight: bold;
        background-color: #AAAAAA;
        vertical-align: middle;
    }

    .attendance {
        font-size: 8pt ;
        text-align: center;
    }

    .comment {
        font-size: 9.5pt;
        line-height: 1.35;
        text-align: justified;
    }
</style><table cellspacing="0" cellpadding="4">

    {%- set advisor = tutors|first -%}
    {%- set advisorComment = yearGroup.perGroup|first -%}
    {%- set studentComment = rollGroup.perStudent|first -%}
    <tr>
        <td class="header border-top border-bottom border-left" style="width:50%" colspan="4">TEACHER ADVISOR PROGRAM [TAP]</td>
        <td class="header border-top border-bottom border-right" style="width:50%;text-align:right;" colspan="4">{{ advisor.title }} {{ advisor.preferredName|first }}. {{ advisor.surname }}</td>
    </tr>
    <tr>
        <td class="border" colspan="8"><table cellpadding="6"><tr>
            <td class="comment"><b>Program Description:</b> <span style="font-family:DroidSansFallback;">{{ advisorComment.comment }}</span></td>
            </tr></table>
        </td>
    </tr>


    {% if reportingCycle %}
        {% set reportNames = {
            1: 'Term 1 Interim', 
            2: 'Term 1 End ', 
            3: 'Term 2 Interim', 
            4: 'Term 2 End', 
        } %}
        <tr nobr="true">
            {% for cycleNum in range(1, reportingCycle.cycleTotal|default(1)) %}
            <td class="header border attendance" style="width:25%" colspan="2">{{- reportNames[cycleNum] }} Attendance</td>
            {% endfor %}
        </tr>
        <tr nobr="true">
            {% for cycleNum in range(1, reportingCycle.cycleTotal|default(1)) %}
            <td class="header border attendance" style="width:12.5%">Absent</td>
            <td class="header border attendance" style="width:12.5%">Late</td>
            {% endfor %}
        </tr>
        <tr nobr="true">
            {% for cycleNum in range(1, reportingCycle.cycleTotal|default(1)) %}
            <td class="border attendance" style="width:12.5%">{{ cycleNum? attendance[cycleNum].absent|default('')  }}</td>
            <td class="border attendance" style="width:12.5%">{{ cycleNum? attendance[cycleNum].late|default('')  }}</td>
            {% endfor %}
        </tr>
    {% endif %}

    <tr nobr="true">
        <td class="border" colspan="8"><table cellpadding="6" nobr="true"><tr>
            <td class="comment"><b>Advisor Comments:</b> <span style="font-family:DroidSansFallback;">{{ studentComment.comment -}}</span></td>
            </tr></table>
        </td>
    </tr>
</table>
